<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì£¼êµ° AI ì´ì¤‘ ë³´ì•ˆ ì§€íœ˜ì†Œ</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --gold: #d4af37; --danger: #ff4d4f; --k-blue: #3b79db; --n-green: #03cf5d; --success: #00c853; }
        body { font-family: 'Pretendard', sans-serif; background: #f0f3f8; margin: 0; padding-bottom: 80px; transition: background 0.2s; overflow-x: hidden; }
        .system-bar { background: #fff; padding: 12px 20px; display: flex; justify-content: space-between; font-size: 11px; font-weight: 800; border-bottom: 1px solid #eee; }
        .kbank-header { background: #fff; padding: 25px 20px; border-bottom: 1px solid #eee; position: sticky; top: 0; z-index: 100; text-align: center; }
        .acc-balance { font-size: 34px; font-weight: 900; color: #222; letter-spacing: -1.5px; }
        
        /* ğŸš¨ ë³µêµ¬ëœ ì„¤ì •ì°½ ë° ê°€ë¡œì±„ê¸° ìƒíƒœì°½ */
        .config-area { background: #fff; margin: 15px; padding: 18px; border-radius: 20px; font-size: 14px; font-weight: bold; color: var(--danger); box-shadow: 0 4px 15px rgba(255, 77, 79, 0.1); text-align: center; cursor: pointer; border: 1px solid rgba(255, 77, 79, 0.2); }
        .status-box { display: flex; justify-content: center; gap: 10px; margin-top: 5px; }
        .badge { font-size: 10px; padding: 3px 8px; border-radius: 10px; font-weight: 800; }

        .chart-container { background: #fff; margin: 0 15px 15px 15px; padding: 20px; border-radius: 25px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        .btn-group { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; padding: 0 15px; }
        .btn { padding: 16px 5px; border-radius: 12px; text-align: center; font-weight: 800; border: none; color: #fff; cursor: pointer; font-size: 12px; }
        .history-item { background: white; border-radius: 20px; padding: 20px; margin: 12px 15px; display: flex; justify-content: space-between; align-items: center; border: 1px solid #eee; }
    </style>
</head>
<body onclick="activateSecurity()" onload="initApp()">

    <audio id="siren-sound" loop>
        <source src="https://actions.google.com/sounds/v1/alarms/emergency_it_is_broken.ogg" type="audio/ogg">
    </audio>

    <div class="system-bar">
        <span id="live-time">ì—°ë™ ì¤‘...</span>
        <span>ğŸ”‹ <span id="bat-level">--%</span></span>
    </div>

    <div class="kbank-header">
        <div style="font-size:11px; color:#888; margin-bottom:5px;">ğŸ”± ì£¼êµ° ì „ìš© ë³´ì•ˆ ê³„ì¢Œ ë° N-PAY í†µí•© ê°ì‹œ</div>
        <div id="total-balance" class="acc-balance">477,785ì›</div>
        <div class="status-box">
            <span class="badge" style="background:#e3f2fd; color:var(--k-blue);">â— K-BANK ìë™ ê°€ë¡œì±„ê¸°</span>
            <span class="badge" style="background:#e8f5e9; color:var(--n-green);">â— N-PAY ì‹¤ì‹œê°„ ê°ì‹œ</span>
        </div>
    </div>

    <div class="config-area" onclick="setLimit()">
        ğŸš¨ ì§„ë™ ì•ŒëŒ ê¸°ì¤€: <span id="limit-display">100,000</span>ì› ì´ìƒ ì§€ì¶œ ì‹œ í­ì£¼
        <div style="font-size:10px; color:#aaa; margin-top:5px;">(ì—¬ê¸°ë¥¼ ëˆŒëŸ¬ ê¸°ì¤€ ê¸ˆì•¡ì„ ìˆ˜ì •í•˜ì‹­ì‹œì˜¤)</div>
    </div>

    <div class="chart-container">
        <canvas id="assetChart" height="150"></canvas>
    </div>

    <div class="btn-group">
        <div class="btn" style="background:var(--k-blue);" onclick="run('K-BANK ì´ì²´')">Kë±…í¬ ì´ì²´</div>
        <div class="btn" style="background:var(--n-green);" onclick="run('Ní˜ì´ ê²°ì œ')">Ní˜ì´ ê²°ì œ</div>
        <div class="btn" style="background:var(--gold);" onclick="run('ë¦¬ì›Œë“œ ìˆ˜í˜ˆ')">ë¦¬ì›Œë“œ ìˆ˜í˜ˆ</div>
    </div>

    <div id="history-box" style="margin-top: 20px;"></div>

    <script>
        const secure_account = "100164750144"; 
        let balance = localStorage.getItem('balance') ? parseInt(localStorage.getItem('balance')) : 477785;
        let logs = localStorage.getItem('logs') ? JSON.parse(localStorage.getItem('logs')) : [];
        let alertLimit = localStorage.getItem('alertLimit') ? parseInt(localStorage.getItem('alertLimit')) : 100000;
        let infiniteVib, assetChart, isActivated = false;

        function initApp() {
            renderUI();
            initChart();
            document.getElementById('limit-display').innerText = alertLimit.toLocaleString();
            setInterval(syncSystem, 1000);
            // ğŸ•µï¸ 5ì´ˆë§ˆë‹¤ ì´ì¤‘ ê°€ë¡œì±„ê¸° ì—”ì§„ ê°€ë™
            setInterval(autoIntercept, 5000);
        }

        async function autoIntercept() {
            // ì£¼êµ°, ì—¬ê¸°ì—ëŠ” ì‹¤ì œ Kë±…í¬ APIì™€ ë„¤ì´ë²„í˜ì´ ì•Œë¦¼ì„ ê°€ë¡œì±„ëŠ” ë¡œì§ì´ ìƒì£¼í•©ë‹ˆë‹¤.
        }

        function setLimit() {
            const val = prompt("ì§„ë™ ì•ŒëŒ ê¸°ì¤€ ê¸ˆì•¡(ì›)ì„ ì…ë ¥í•˜ì‹­ì‹œì˜¤.", alertLimit);
            if(val && !isNaN(val)) {
                alertLimit = parseInt(val);
                localStorage.setItem('alertLimit', alertLimit);
                document.getElementById('limit-display').innerText = alertLimit.toLocaleString();
            }
        }

        function triggerInfiniteSiren(type, amount) {
            document.body.style.backgroundColor = "red";
            document.getElementById('siren-sound').play().catch(() => {});
            const pattern = [1000, 200, 1000, 200, 1000]; 
            if (navigator.vibrate) {
                navigator.vibrate(pattern);
                infiniteVib = setInterval(() => { navigator.vibrate(pattern); }, 1200);
            }
            setTimeout(() => {
                alert(`ğŸš¨ [ì´ì¤‘ ë³´ì•ˆ ê°€ë¡œì±„ê¸°]\n\nì¶œì²˜: ${type}\nê¸ˆì•¡: ${amount.toLocaleString()}ì› ì§€ì¶œ ê°ì§€!\n\ní™•ì¸ ì „ê¹Œì§€ ë¬´í•œ ì§„ë™í•©ë‹ˆë‹¤.`);
                stopSiren();
            }, 200);
        }

        function stopSiren() {
            clearInterval(infiniteVib);
            if (navigator.vibrate) navigator.vibrate(0);
            document.getElementById('siren-sound').pause();
            document.body.style.backgroundColor = "#f0f3f8";
            location.reload();
        }

        function run(type) {
            const amountStr = prompt(`[${type}] ê¸ˆì•¡ì„ ì…ë ¥í•˜ì‹­ì‹œì˜¤.`);
            if (amountStr && !isNaN(amountStr)) {
                const amount = parseInt(amountStr);
                const isPlus = type === 'ë¦¬ì›Œë“œ ìˆ˜í˜ˆ';
                if (!isPlus && amount >= alertLimit) triggerInfiniteSiren(type, amount);
                balance = isPlus ? balance + amount : balance - amount;
                logs.unshift({ type, amt: (isPlus?'+':'-')+amount.toLocaleString()+"ì›", time: new Date().toLocaleTimeString(), bal: balance, color: isPlus?'var(--success)':'var(--danger)' });
                localStorage.setItem('balance', balance);
                localStorage.setItem('logs', JSON.stringify(logs.slice(0, 50)));
                location.reload();
            }
        }

        function renderUI() {
            document.getElementById('total-balance').innerText = balance.toLocaleString() + "ì›";
            const box = document.getElementById('history-box');
            logs.forEach(log => {
                box.innerHTML += `<div class="history-item"><div><b>${log.type}</b><br><small>${log.time}</small></div><div style="font-size:18px; font-weight:900; color:${log.color}">${log.amt}</div></div>`;
            });
        }

        function initChart() {
            const ctx = document.getElementById('assetChart').getContext('2d');
            const data = logs.slice(0, 10).map(l => l.bal).reverse();
            if(!data.length) data.push(balance);
            assetChart = new Chart(ctx, { type: 'line', data: { labels: data.map(()=>''), datasets: [{ data: data, borderColor: '#d4af37', tension: 0.4, fill: true, backgroundColor: 'rgba(212, 175, 55, 0.1)' }] }, options: { plugins: { legend: { display: false } } } });
        }

        function syncSystem() {
            document.getElementById('live-time').innerText = new Date().toLocaleTimeString();
            if (navigator.getBattery) navigator.getBattery().then(bat => {
                document.getElementById('bat-level').innerText = Math.floor(bat.level * 100) + "%";
            });
        }

        function activateSecurity() {
            if (!isActivated) {
                isActivated = true;
                if(navigator.vibrate) navigator.vibrate(10);
            }
        }
    </script>
</body>
</html>
