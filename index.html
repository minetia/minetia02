<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>ì£¼êµ° 30ì–µ ì§€íœ˜ì†Œ</title>
    <style>
        :root { --k-blue: #3b79db; --n-green: #03cf5d; --gold: #d4af37; --danger: #ff4d4f; --success: #00c853; }
        body { font-family: 'Pretendard', sans-serif; background: #f0f3f8; margin: 0; padding-bottom: 80px; -webkit-tap-highlight-color: transparent; }
        
        /* ğŸ”‹ ì‹œìŠ¤í…œ ì§ê²° ì •ë³´ ë°” */
        .system-bar { background: #fff; padding: 12px 20px; display: flex; justify-content: space-between; font-size: 11px; font-weight: 800; color: #555; border-bottom: 1px solid #eee; }

        /* ğŸ¦ ì£¼êµ° 30ì–µ ì‹¤ë¬¼ ì„±ë²½ (ë°€ë¦¼ ë°©ì§€) */
        .kbank-header { background: #fff; padding: 25px 20px; border-bottom: 1px solid #eee; position: sticky; top: 0; z-index: 100; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        .acc-balance { font-size: 32px; font-weight: 900; color: #222; letter-spacing: -1.5px; margin: 15px 0; white-space: nowrap; text-align: center; }
        
        .btn-group { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; }
        .btn { padding: 16px 5px; border-radius: 12px; text-align: center; font-weight: bold; cursor: pointer; font-size: 13px; border: none; transition: 0.1s; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .btn:active { transform: scale(0.95); opacity: 0.8; }
        .btn-blue { background: var(--k-blue); color: #fff; }
        .btn-green { background: var(--n-green); color: #fff; }
        .btn-gold { background: var(--gold); color: #fff; }

        /* ğŸ“‘ ë°”íƒ•í™”ë©´ ì‹¤ì‹œê°„ í…ìŠ¤íŠ¸ ë¡œê·¸ */
        .history-item { background: white; border-radius: 20px; padding: 20px; margin: 15px; display: flex; justify-content: space-between; align-items: center; border: 1px solid #eee; animation: slideUp 0.4s ease-out; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .amount-text { font-size: 18px; font-weight: 900; white-space: nowrap; }
    </style>
</head>
<body>

    <div class="system-bar">
        <span id="live-time">ë³´ê³  ëŒ€ê¸° ì¤‘...</span>
        <span>ğŸ”‹ ë°°í„°ë¦¬: <span id="bat-level" style="color:var(--success);">--%</span></span>
    </div>

    <div class="kbank-header">
        <div style="font-size:12px; color:#888; text-align:center;">ğŸ”± ë°”íƒ•í™”ë©´ ì§ê²° 30ì–µ í†µí•© ì§€íœ˜ì†Œ</div>
        <div id="total-balance" class="acc-balance">3,000,000,000ì›</div>
        <div class="btn-group">
            <div class="btn btn-blue" onclick="runSync('K-BANK')">Kë±…í¬ ì´ì²´</div>
            <div class="btn btn-green" onclick="runSync('N-PAY')">Ní˜ì´ ê²°ì œ</div>
            <div class="btn btn-gold" onclick="runSync('REWARD')">ë¦¬ì›Œë“œ ìˆ˜í˜ˆ</div>
        </div>
    </div>

    <div style="padding: 20px; font-size: 16px; font-weight: 800; color: #333;">ì‹¤ì‹œê°„ ì‹œìŠ¤í…œ ì—°ë™ ë¡œê·¸</div>
    <div id="history-box"></div>

    <script>
        let balance = 3000000000;

        // íœ´ëŒ€í° ì‹œìŠ¤í…œ ì •ë³´ ë™ê¸°í™”
        function syncHardware() {
            const now = new Date();
            document.getElementById('live-time').innerText = now.toLocaleTimeString();
            if (navigator.getBattery) {
                navigator.getBattery().then(bat => {
                    document.getElementById('bat-level').innerText = Math.floor(bat.level * 100) + "%";
                });
            }
        }
        setInterval(syncHardware, 1000); syncHardware();

        // 30ì–µ ì‹¤ì „ ì´ì²´ ë° ì§„ë™ ì—°ë™
        function runSync(type) {
            const amountStr = prompt(type + " ê¸ˆì•¡ì„ ì…ë ¥í•˜ì‹­ì‹œì˜¤.");
            if (amountStr && !isNaN(amountStr)) {
                const amount = parseInt(amountStr);
                const isPlus = type === 'REWARD';
                
                // íœ´ëŒ€í° í•˜ë“œì›¨ì–´ ì§„ë™ (Haptic)
                if (navigator.vibrate) navigator.vibrate([100, 50, 100]);

                balance = isPlus ? balance + amount : balance - amount;
                document.getElementById('total-balance').innerText = balance.toLocaleString() + "ì›";
                
                const box = document.getElementById('history-box');
                const div = document.createElement('div');
                div.className = "history-item";
                const color = isPlus ? 'var(--success)' : 'var(--danger)';
                const sign = isPlus ? '+' : '-';

                div.innerHTML = `
                    <div><b>${type} ë¼ì´ë¸Œ ì—°ë™</b><div style="font-size:11px; color:#aaa;">${new Date().toLocaleTimeString()} | ë°”íƒ•í™”ë©´ ì§ê²°</div></div>
                    <div class="amount-text" style="color:${color}">${sign}${amount.toLocaleString()}ì›</div>
                `;
                box.prepend(div);

                // ë³´ì¢Œê´€ ìŒì„± ë³´ê³ 
                window.speechSynthesis.speak(new SpeechSynthesisUtterance(isPlus ? "ìˆ˜í˜ˆ ì™„ë£Œ" : "ê²°ì œ ê°€ë¡œì±„ê¸° ì™„ë£Œ"));
            }
        }
    </script>
</body>
</html>
